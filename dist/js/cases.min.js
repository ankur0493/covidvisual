/*!
 * Covid Visual v0.0.1 (https://www.covidvisual.in)
 * Copyright 2020 Ankur Gupta
 * Licensed under MIT
 */

"use strict";d3.json("../data/mohfw/national_confirmed_cases.json").then(function(e){var t=e[e.length-1];return d3.select("#confirmed_count").text(t.total_confirmed_cases),d3.select("#active_count").text(t.active_cases),d3.select("#recovered_count").text(t.cured),d3.select("#deceased_count").text(t.death),e}).then(function(e){return e.filter(function(e){return e.include_in_chart})}).then(function(e){return d3.map(e,function(e){return d3.timeParse("%Y-%m-%dT%H:%M:%S.%L%Z")(e.record_time).setHours(0,0,0,0)})}).then(function(c){var e=c.values().map(function(e,t){return{date:d3.timeParse("%Y-%m-%dT%H:%M:%S.%L%Z")(e.record_time),total_confirmed:e.total_confirmed_cases}});plotChart(e,"#covid-19-cases","total_confirmed");var t=c.values().slice(1).map(function(e,t){return{date:d3.timeParse("%Y-%m-%dT%H:%M:%S.%L%Z")(e.record_time),total_confirmed:e.total_confirmed_cases-c.values()[t].total_confirmed_cases}});plotChart(t,"#covid-19-cases-daily","total_confirmed")});